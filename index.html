<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>蓝深科技</title>
    <link rel="stylesheet" href="css/currency.css">
    <link rel="stylesheet" href="css/left.css">
    <link rel="stylesheet" href="data_source/css/data_source.css">
</head>
<body>
    <div class="container">
        <div class="left">
            <div class="left_header" >
                <h3 style="font-size: 17px" class="left_header_inner">蓝深科技</h3>
            </div>
            <div class="left_bottom">
                <ul>
                    <li class="list_container" id="list1_container">
                        <a href="#">数据管理</a>
                        <i></i>
                        <ul id="list_1" >
                            <li><a href="data_source/data_source.html" target="_self">数据源</a></li>
                            <li><a href="relation_database/relation_database.html" target="_self">关联数据库</a></li>
                        </ul>
                    </li>
                    <li class="list_container" id="list2_container">
                        <a href="#">定时任务</a>
                        <i></i>
                        <ul id="list_2">
                            <li><a href="mission_list/mission_list.html" target="_self">定时任务列表</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div class="right">
<!--            数据源-->
            <div class="data_source" style="display: block">
                <div class="data_source_body">
                    <div class="data_source_top">
                        <button>添加数据源</button>
                    </div>
                    <div class="data_source_mid">
                        <ul class="data_source_mid_container" id="list">
                            <li>
                                <ul class="data_source_row title_style">
                                    <li>database</li>
                                    <li>code</li>
                                    <li class="link">链接</li>
                                    <li >数据库类型</li>
                                    <li>驱动类</li>
                                    <li>创建人</li>
                                    <li>操作</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <ul class="data_source_bottom">
                            <li><i></i></li>
                            <li>1</li>
                            <li>2</li>
                            <li>3</li>
                            <li><i></i></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="./data_get/fetch_index.js"></script>
<script>
    function get_data(res){
        let list = document.getElementById("list")//获取列表;
        for(let i in res){
            console.log(res[i].id);
            console.log(res[i].database);
            console.log(res[i].code);
            console.log(res[i].url.split("jdbc:")[1]);
            console.log(res[i].driverType);
            console.log(res[i].updateBy);
            let li = createDom(res[i]);
            list.appendChild(li);
        }
    };

    //创建虚拟dom
    function createDom(data){
        const li = document.createElement('li');
        let str = "<ul class=\"data_source_row\">\n" +
            "                                    <li>"+data.database+"</li>\n" +
            "                                    <li>"+data.code+"</li>\n" +
            "                                    <li class=\"link\"><a href="+data.url+">"+data.url+"</a></li>\n" +
            "                                    <li>"+data.driverType+"</li>\n" +
            "                                    <li style=\"word-wrap: break-word;word-break: normal;\">"+data.driverClass+"</li>\n" +
            "                                    <li>"+data.updateBy+"</li>\n" +
            "                                    <li><a href=\"#\">编辑</a></li>\n" +
            "                                </ul>"
        li.innerHTML = str;
        return li;
    }
</script>
</html>